<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vital Sport - Plan du Vital Sport</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* Styles de base pour toutes les pages */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Inter', sans-serif;
            color: white;
            overflow: hidden;
        }
        .kiosk-container {
            display: flex;
            flex-direction: column;
            width: 100vw;
            height: 100vh;
            background-color: #005f9e;
            text-align: center;
        }

        /* En-tête de page secondaire */
        .page-header {
            padding: 4vh 4vw;
            flex-shrink: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .page-header .back-button {
            font-size: 5vh;
            color: white;
            text-decoration: none;
            transition: transform 0.2s ease;
        }
        .page-header .back-button:hover {
            transform: scale(1.1);
        }
        .page-header h1 {
            font-size: 7vh;
            font-weight: 900;
            flex-grow: 1;
            text-align: center;
            margin-left: -5vh; /* Ajustement pour centrer le titre */
        }

        /* Contenu principal de la page */
        .main-content {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5vh;
            position: relative; /* Pour positionner les boutons de zoom */
        }
        
        /* Conteneur pour l'image du plan avec gestion du zoom et du déplacement */
        .map-container {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
            cursor: grab;
        }

        .map-container.grabbing {
            cursor: grabbing;
        }

        .zoomable-image {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            transform-origin: 0 0;
            transition: none;
        }

        /* Styles pour les boutons de zoom */
        .zoom-controls {
            position: absolute;
            bottom: 4vh;
            right: 4vw;
            display: flex;
            flex-direction: column;
            gap: 1.5vh;
            z-index: 10;
        }

        .zoom-button {
            width: 8vh;
            height: 8vh;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 4vh;
            font-weight: 900;
            cursor: pointer;
            transition: background-color 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .zoom-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }

        .zoom-button:active {
            transform: scale(0.95);
        }

        /* Pied de page */
        .kiosk-footer {
            padding: 2vh;
            font-size: 1.8vh;
            background-color: rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }
    </style>
</head>
<body>

    <div class="kiosk-container">

        <!-- ===== EN-TÊTE DE PAGE SECONDAIRE ===== -->
        <header class="page-header">
            <a href="index.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1>Plan du Vital Sport</h1>
        </header>

        <!-- ===== CONTENU PRINCIPAL ===== -->
        <main class="main-content">
            <!-- Conteneur pour l'image zoomable -->
            <div id="map-container" class="map-container">
                <img id="zoomable-image" class="zoomable-image" src="Plan_site.png" alt="Plan de l'événement Vital Sport">
            </div>

            <!-- ===== BOUTONS DE ZOOM ===== -->
            <div class="zoom-controls">
                <button id="zoom-in-btn" class="zoom-button">+</button>
                <button id="zoom-out-btn" class="zoom-button">-</button>
            </div>
        </main>

        <!-- ===== PIED DE PAGE ===== -->
        <footer class="kiosk-footer">
            &copy; 2025 Decathlon - Tous droits réservés
        </footer>

    </div>

    <script>
        window.onload = function() {
            const mapContainer = document.getElementById('map-container');
            const zoomableImage = document.getElementById('zoomable-image');
            const zoomInBtn = document.getElementById('zoom-in-btn');
            const zoomOutBtn = document.getElementById('zoom-out-btn');

            let scale = 1;
            let originX = 0;
            let originY = 0;
            let isDragging = false;
            let startX = 0;
            let startY = 0;

            function updateTransform() {
                zoomableImage.style.transform = `translate(${originX}px, ${originY}px) scale(${scale})`;
            }

            function zoom(factor) {
                const newScale = scale * factor;
                if (newScale >= 1 && newScale <= 4) {
                    scale = newScale;
                    // Centre le zoom par rapport au centre de l'image
                    const rect = mapContainer.getBoundingClientRect();
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    originX = centerX - (centerX - originX) * (newScale / (newScale/factor));
                    originY = centerY - (centerY - originY) * (newScale / (newScale/factor));
                    updateTransform();
                }
            }

            // Gestion du zoom avec la molette de la souris
            mapContainer.addEventListener('wheel', (e) => {
                e.preventDefault();
                const scaleFactor = 1.1;
                const newScale = e.deltaY > 0 ? scale / scaleFactor : scale * scaleFactor;
                
                if (newScale >= 1 && newScale <= 4) {
                    const rect = mapContainer.getBoundingClientRect();
                    const mouseX = e.clientX - rect.left;
                    const mouseY = e.clientY - rect.top;

                    // Ajuste l'origine en fonction du zoom pour centrer sur la souris
                    originX = mouseX - (mouseX - originX) * (newScale / scale);
                    originY = mouseY - (mouseY - originY) * (newScale / scale);
                    
                    scale = newScale;
                    updateTransform();
                }
            });

            // Gestion du déplacement (drag)
            mapContainer.addEventListener('mousedown', (e) => {
                isDragging = true;
                mapContainer.classList.add('grabbing');
                startX = e.clientX - originX;
                startY = e.clientY - originY;
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                originX = e.clientX - startX;
                originY = e.clientY - startY;
                updateTransform();
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
                mapContainer.classList.remove('grabbing');
            });

            // Gestion des boutons de zoom
            zoomInBtn.addEventListener('click', () => {
                zoom(1.2);
            });

            zoomOutBtn.addEventListener('click', () => {
                zoom(0.8);
            });
            
            // Initialisation de la position et du zoom
            zoomableImage.style.transform = 'translate(0, 0) scale(1)';
        };
    </script>

</body>
</html>
